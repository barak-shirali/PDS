<div class="page-content">
	<div class="page-bar ng-scope">
		<ul class="page-breadcrumb">
			<li>
				<i class="fa fa-home"></i>
				<a ui-sref="dashboard">Dashboard</a>
				<i class="fa fa-angle-right"></i>
			</li>
			<li>
				<a ui-sref="settings">User Profile</a>
			</li>
		</ul>
	</div>
	<h3 class="page-title ng-scope">
		Profile
	</h3>
	<div class="col-md-12">
		<div class="portlet light">
			<div class="portlet-title tabbable-line">
				<ul class="nav nav-tabs pull-left">
					<li class="active">
						<a href="#" data-target="#tab_personal" data-toggle="tab">Account Info</a>
					</li>
					<li>
						<a href="#" data-target="#tab_password" data-toggle="tab">Change Password</a>
					</li>
					<li ng-show="user.type == 'SRS'">
					<!-- <li> -->
						<a href="#" data-target="#tab_address" data-toggle="tab" ng-click="refreshMap">Location</a>
					</li>
					<li ng-if="user.type == 'SRS' || user.type == 'DRIVER'">
						<a href="#" data-target="#tab_payment" data-toggle="tab">Payment method</a>
					</li>
				</ul>
			</div>
			<div class="portlet-body">
				<div class="tab-content">
					<div class="alert alert-danger" ng-show="error != ''">
						<!-- <button class="close" data-close="alert"></button> -->
						<span>{{ error }}</span>
					</div>
					<div class="alert alert-info" ng-show="msg != ''">
						<span>{{ msg }}</span>
					</div>
					<!-- PERSONAL INFO TAB -->
					<div class="tab-pane active" id="tab_personal">
						<div class="form-group">
							<label class="control-label" ng-show="user.type == 'ADMIN' || user.type == 'DRIVER'">First Name</label>
							<label class="control-label" ng-show="user.type == 'SRS'">Business Name</label>
							<input type="text" class="form-control" ng-model="user.firstname">
						</div>
						<div class="form-group" ng-show="user.type == 'ADMIN' || user.type == 'DRIVER'">
							<label class="control-label">Last Name</label>
							<input type="text" class="form-control" ng-model="user.lastname">
						</div>
						<div class="form-group">
							<label class="control-label">Mobile Number</label>
							<input type="text" class="form-control" ng-model="user.phone">
						</div>
						<div class="margiv-top-10">
							<button class="btn green-haze" ng-click="save()">Save Changes </button>
						</div>
					</div>
					<!-- END PERSONAL INFO TAB -->
					<!-- CHANGE PASSWORD TAB -->
					<div class="tab-pane" id="tab_password">
						<div class="form-group">
							<label class="control-label">New Password</label>
							<input type="password" class="form-control" ng-model="user.password">
						</div>
						<div class="form-group">
							<label class="control-label">Re-type New Password</label>
							<input type="password" class="form-control" ng-model="user.password1">
						</div>
						<div class="margin-top-10">
							<button class="btn green-haze" ng-click="savePassword()">Save Changes </button>
						</div>
					</div>
					<!-- END CHANGE PASSWORD TAB -->
					<!-- PRIVACY SETTINGS TAB -->
					<div class="tab-pane" id="tab_address">
						<!-- <div class="ol-lg-6 col-md-6 col-sm-12 col-xs-12"> -->
							<div class="form-group">
								<label class="control-label">Address</label>
								<input type="text" class="form-control" ng-model="user.address" ng-blur="findLatLng()">
							</div>
							<div class="form-group">
								<label class="control-label">Latitude</label>
								<input type="text" class="form-control" ng-model="user.latitude" readonly="true" />
							</div>
							<div class="form-group">
								<label class="control-label">Longitude</label>
								<input type="text" class="form-control" ng-model="user.longitude" readonly="true" />
							</div>
							<div class="margin-top-10">
							<button class="btn green-haze" ng-click="saveLocation()">Save Changes </button>
							</div>
						<!-- </div> -->
						<!-- <div class="ol-lg-6 col-md-6 col-sm-12 col-xs-12">
							<style>.angular-google-map-container { height: 400px; }</style>
							<ui-gmap-google-map center='map.center' zoom='map.zoom' refresh='map.refresh'></ui-gmap-google-map>
						</div> -->
						<div class="clearfix"></div>
					</div>
					<!-- END PRIVACY SETTINGS TAB -->
					<!-- PRIVACY SETTINGS TAB -->
					<div class="tab-pane" id="tab_payment">
						<!-- <div class="ol-lg-6 col-md-6 col-sm-12 col-xs-12"> -->
							<div ng-if="user.type == 'DRIVER'">
								<div class="form-group">
									<label class="control-label">Paypal account</label>
									<input type="email" class="form-control" ng-model="user.braintreeCustomerId">
								</div>
								<div class="margin-top-10">
									<button class="btn green-haze" ng-click="save()">Save </button>
								</div>
							</div>
							<div ng-if="user.type == 'SRS'">
								<div ng-show="user.creditcard != null">
									<div class="form-group">
										<label class="control-label">Card Type</label>
										<input type="text" class="form-control" ng-model="user.creditcard.type" readonly>
									</div>
									<div class="form-group">
										<label class="control-label">Card Number</label>
										<input type="text" class="form-control" ng-model="user.creditcard.number"  readonly />
									</div>
									<div class="form-group">
										<label class="control-label">Expiry date</label>
										<input type="text" class="form-control" value="{{user.creditcard.expire_year}}/{{user.creditcard.expire_month}}"  readonly /> 
									</div>
								</div>
								<div class="margin-top-10">
									<button class="btn green-haze" ng-click="addPaymentMethod()">Add/Update payment method </button>
								</div>
							</div>
						<!-- </div> -->
						<!-- <div class="ol-lg-6 col-md-6 col-sm-12 col-xs-12">
							<style>.angular-google-map-container { height: 400px; }</style>
							<ui-gmap-google-map center='map.center' zoom='map.zoom' refresh='map.refresh'></ui-gmap-google-map>
						</div> -->
						<div class="clearfix"></div>
					</div>
					<!-- END PRIVACY SETTINGS TAB -->
				</div>
			</div>
		</div>
	</div>
</div></div>
</div>
<script type="text/ng-template" id="AddPaymentMethodDialog.html">
    <div class="modal-header">
        <h3 class="modal-title">Credit card info</h3>
    </div>
    <div class="modal-body">    
		<div class="alert alert-danger" ng-show="error != ''">
			<!-- <button class="close" data-close="alert"></button> -->
			<span>{{ error }}</span>
		</div>
    	<div class="form-group">
			<select class="form-control" ng-model="creditcard.type">
				<option value="">Select Card Type</option>
				<option value="visa">Visa</option>
				<option value="mastercard">Mastecard</option>
				<option value="discover">Discover</option>
				<option value="amex">American Express</option>
			</select>
		</div>
		<div class="form-group">
			<input type="text" class="form-control" ng-model="creditcard.number" placeholder="Credit card number" />
		</div>
		<div class="row">
			<div class="form-group ol-lg-4 col-md-4 col-sm-12 col-xs-12">
				<input type="text" class="form-control" ng-model="creditcard.cvv2" placeholder="CVV" />
			</div>
			<div class="form-group ol-lg-4 col-md-4 col-sm-12 col-xs-12">
				<select class="form-control" ng-model="creditcard.expire_month">
					<option value="">Month</option>
					<option value="1">1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">5</option>
					<option value="6">6</option>
					<option value="7">7</option>
					<option value="8">8</option>
					<option value="9">9</option>
					<option value="10">10</option>
					<option value="11">11</option>
					<option value="12">12</option>
				</select>
			</div>
			<div class="form-group ol-lg-4 col-md-4 col-sm-12 col-xs-12">
				<select class="form-control" ng-model="creditcard.expire_year">
					<option value="">Year</option>
					<option value="2015">2015</option>
					<option value="2016">2016</option>
					<option value="2017">2017</option>
					<option value="2018">2018</option>
					<option value="2019">2019</option>
					<option value="2020">2020</option>
					<option value="2021">2021</option>
					<option value="2022">2022</option>
					<option value="2023">2023</option>
					<option value="2024">2024</option>
					<option value="2025">2025</option>
					<option value="2026">2026</option>
				</select>
			</div>
		</div>
		<hr />
		<div class="row">
			<div class="form-group ol-lg-6 col-md-6 col-sm-12 col-xs-12">
				<input type="text" class="form-control" ng-model="creditcard.first_name" placeholder="Card holder first name" />
			</div>
			<div class="form-group ol-lg-6 col-md-6 col-sm-12 col-xs-12">
				<input type="text" class="form-control" ng-model="creditcard.last_name" placeholder="Card holder last name" />
			</div>
		</div>
		<hr />
		<div class="form-group">
			<input type="text" class="form-control" ng-model="creditcard.billing_address.line1" placeholder="Street address" />
		</div>
		<div class="row">
			<div class="form-group ol-lg-6 col-md-6 col-sm-12 col-xs-12">
				<input type="text" class="form-control" ng-model="creditcard.billing_address.city" placeholder="City" />
			</div>
			<div class="form-group ol-lg-6 col-md-6 col-sm-12 col-xs-12">
				<input type="text" class="form-control" ng-model="creditcard.billing_address.state" placeholder="State" />
			</div>
		</div>
		<div class="row">
			<div class="form-group ol-lg-6 col-md-6 col-sm-12 col-xs-12">
				<input type="text" class="form-control" ng-model="creditcard.billing_address.postal_code" placeholder="Postal Code" />
			</div>
			<div class="form-group ol-lg-6 col-md-6 col-sm-12 col-xs-12">
				<input type="text" class="form-control" ng-model="creditcard.billing_address.country_code" placeholder="Country Code (US)" />
			</div>
		</div>
    </div>
    <div class="modal-footer">
        <button class="btn green-haze" ng-click="ok()">OK</button>
        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
    </div>
</script>